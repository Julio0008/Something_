<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Texas Hold'em</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<header class="topbar">
		<h1>Texas Hold'em</h1>
		<div class="hud">
			<div>Pot: <span id="pot">0</span></div>
			<div>You: <span id="player-stack">1000</span> chips</div>
		</div>
	</header>

	<main class="table">
		<section class="opponents">
			<div class="seat" id="seat-1">
				<div class="name">AI 1</div>
				<div class="stack">Stack: <span class="stack-amt">1000</span></div>
				<div class="hand"></div>
			</div>
			<div class="seat" id="seat-2">
				<div class="name">AI 2</div>
				<div class="stack">Stack: <span class="stack-amt">1000</span></div>
				<div class="hand"></div>
			</div>
		</section>

		<section class="board-area">
			<!-- deck visual -->
			<div class="deck-area" aria-hidden="true">
				<div id="deck" class="deck-stack" title="Deck">
					<div class="deck-card"></div>
					<div class="deck-card"></div>
					<div class="deck-card"></div>
				</div>
				<div class="deck-count">Cards: <span id="deck-count">52</span></div>
			</div>

			<div class="community">
				<div class="card-slot" data-index="0"></div>
				<div class="card-slot" data-index="1"></div>
				<div class="card-slot" data-index="2"></div>
				<div class="card-slot" data-index="3"></div>
				<div class="card-slot" data-index="4"></div>
			</div>

			<div class="dealer-area">
				<div class="dealer-chip">Dealer</div>
				<!-- two column controls: bets on the left, streets on the right -->
				<div class="controls-grid">
					<div class="controls-left controls">
						<div class="bets-head">Bet</div>
						<div class="bet-row">
							<span class="bet-info">To call: <strong id="to-call">0</strong></span>
						</div>
						<div class="bet-row">
							<label>
								<input id="raise-amt" type="number" min="1" value="50" />
							</label>
							<span class="small-label">raise</span>
						</div>
						<div class="bet-actions">
							<button id="check-call" class="btn" disabled>Check / Call</button>
							<button id="raise-btn" class="btn" disabled>Raise</button>
							<button id="allin-btn" class="btn warn" disabled>All In</button>
							<button id="fold-btn" class="btn warn" disabled>Fold</button>
						</div>
					</div>

					<div class="controls-right controls">
						<div class="streets-head">Streets</div>
						<div class="street-actions">
							<button id="deal-flop" class="btn" disabled>Deal Flop</button>
							<button id="deal-turn" class="btn" disabled>Deal Turn</button>
							<button id="deal-river" class="btn" disabled>Deal River</button>
							<button id="showdown" class="btn" disabled>Showdown</button>
						</div>
						<div class="aux-actions">
							<button id="show-hands-btn" class="btn">Show Hands</button>
						</div>
					</div>
				</div>
			</div>

			<div class="player-area">
				<div class="player-info">
					<div class="name">You</div>
					<div class="stack">Stack: <span id="you-stack">1000</span></div>
				</div>
				<div class="hand" id="player-hand"></div>
			</div>
		</section>
	</main>

	<!-- bottom bar: start / info -->
	<footer class="bottom-bar">
		<button id="new-hand" class="btn large">New Hand</button>
		<div class="info">
			<div id="message">Press "New Hand" to begin. Cards are stylized for clarity.</div>
		</div>
	</footer>

	<!-- NEW: Hands modal -->
	<div id="hands-modal" class="modal hidden" aria-hidden="true">
		<div class="modal-backdrop"></div>
		<div class="modal-content" role="dialog" aria-modal="true">
			<header class="modal-header">
				<h3>Hands Overview</h3>
				<button id="close-hands" class="btn close-btn" aria-label="Close">✕</button>
			</header>
			<div class="modal-body" id="hands-body">
				<!-- populated by script -->
			</div>
			<footer class="modal-footer">
				<div class="note">Best hands are highlighted in gold; worst in muted red.</div>
			</footer>
		</div>
	</div>

	<!-- NEW: How to Play modal (shown on load) -->
	<div id="howtoplay-modal" class="modal" aria-hidden="false">
		<div class="modal-backdrop"></div>
		<div class="modal-content" role="dialog" aria-modal="true">
			<header class="modal-header">
				<h3>How to Play Texas Hold'em</h3>
				<button id="close-howtoplay" class="btn close-btn" aria-label="Close">✕</button>
			</header>
			<div class="modal-body" id="howtoplay-body">
				<div class="howtoplay-section">
					<h4>Goal</h4>
					<p>Win chips by making the best 5-card poker hand from your 2 hole cards and the 5 community cards.</p>
				</div>
				<div class="howtoplay-section">
					<h4>Game Flow</h4>
					<ol>
						<li><strong>New Hand:</strong> Click "New Hand" to start. You receive 2 face-down cards; CPUs get face-down cards too.</li>
						<li><strong>Preflop:</strong> CPUs may act. You can Check/Call, Raise (up to 2 times per round), or Fold.</li>
						<li><strong>Flop:</strong> Three community cards are revealed. New betting round begins.</li>
						<li><strong>Turn:</strong> A fourth community card is revealed. Another betting round.</li>
						<li><strong>River:</strong> A fifth community card is revealed. Final betting round.</li>
						<li><strong>Showdown:</strong> All remaining players reveal their hands. Best hand wins the pot.</li>
					</ol>
				</div>
				<div class="howtoplay-section">
					<h4>Betting</h4>
					<ul>
						<li><strong>To call:</strong> Match the current bet amount to stay in the hand.</li>
						<li><strong>Check:</strong> Pass without betting if no one has bet yet.</li>
						<li><strong>Raise:</strong> Increase the bet (max 2 raises per betting round).</li>
						<li><strong>All In:</strong> Bet all remaining chips.</li>
						<li><strong>Fold:</strong> Exit the hand and lose your contribution to the pot.</li>
					</ul>
				</div>
				<div class="howtoplay-section">
					<h4>Hand Rankings</h4>
					<p>Click <strong>Show Hands</strong> to view all poker hand rankings from Royal Flush (best) to High Card (worst).</p>
				</div>
				<div class="howtoplay-section">
					<h4>Tips</h4>
					<ul>
						<li>Each player starts with 1,000 chips.</li>
						<li>You can fold or bet at any time during a hand.</li>
						<li>The pot grows as players bet.</li>
						<li>Play multiple hands and grow your stack!</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<script src="script.js"></script>
</body>
</html>
